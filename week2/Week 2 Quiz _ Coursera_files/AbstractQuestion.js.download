define("bundles/quiz-question-types/models/AbstractQuestion",["require","exports","module","./EmptyFeedback","./ExplainedFeedback","./GradedFeedback","./WeightedScoring","./Response","bundles/ondemand/utils/AbstractClassUtils","bundles/ondemand/utils/ToStringBuilder","bundles/quiz-question-types/constants/QuestionFeedbackLevels"],function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=require("./EmptyFeedback"),n=require("./ExplainedFeedback"),s=require("./GradedFeedback"),i=require("./WeightedScoring"),t=require("./Response"),o=require("bundles/ondemand/utils/AbstractClassUtils"),a=o.ensureSubclassInstantiation,c=require("bundles/ondemand/utils/ToStringBuilder"),e=require("bundles/quiz-question-types/constants/QuestionFeedbackLevels"),d=function(){function AbstractQuestion(e){_classCallCheck(this,AbstractQuestion),a(AbstractQuestion,this);var o=e.id,t=e.variant,c=e.question,n=e.weightedScoring,d=e.isSubmitAllowed,s=e.feedback,r=e.effectiveResponse;this.id=o,this.type=c.type,this.detailLevel=t.detailLevel,this.prompt=t.definition.prompt,this.isSubmitAllowed=d,this.weightedScoring=n&&new i(n),this.response=r&&this.createResponse(r),this.feedback=s&&this.createFeedback(s)}return AbstractQuestion.prototype.isReflective=function isReflective(){return!1},AbstractQuestion.prototype.isAnswered=function isAnswered(){return!!this.response},AbstractQuestion.prototype.isCorrect=function isCorrect(){return this.feedback&&this.feedback.isCorrect},AbstractQuestion.prototype.createFeedback=function createFeedback(t){switch(t.feedbackLevel){case e.Graded:return this.createGradedFeedback(t);case e.Explained:return this.createExplainedFeedback(t);case e.NoFeedback:return this.createEmptyFeedback(t);default:throw new Error("Unknown feedback level: "+t.feedbackLevel)}},AbstractQuestion.prototype.createGradedFeedback=function createGradedFeedback(e){return new s(e)},AbstractQuestion.prototype.createExplainedFeedback=function createExplainedFeedback(e){return new n(e)},AbstractQuestion.prototype.createEmptyFeedback=function createEmptyFeedback(e){return new r},AbstractQuestion.prototype.createResponse=function createResponse(e){return new t(e)},AbstractQuestion.prototype.createAnswer=function createAnswer(e){return this.createResponse({questionInstance:this.id,response:{answer:e}})},AbstractQuestion.prototype.createEmptyAnswer=function createEmptyAnswer(){return this.createAnswer("")},AbstractQuestion.prototype.toString=function toString(){return new c(this).addProps("id","type","detailLevel").toString()},AbstractQuestion}();module.exports=d});